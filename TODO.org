#+TITLE: Joustus
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="style.css" />
#+OPTIONS: html-postamble:nil
#+OPTIONS: num:nil

* Joustus
  Game based on King of Cards Joustus card game

* Rules
  For now see [[https://shovelknight.fandom.com/wiki/Joustus#Rules][here]] for rules.  Will populate this section when rules differ substantially

  Card arrow colors: grey < black < white < red

** Controls

|--------------------+---------------------------|
| space              | play card                 |
| wasd               | play card pushing uldr    |
| up down left right | move cursor               |
| 123                | select card 1,2,3 in hand |
| m                  | map edit                  |
| r                  | reset board               |
| c                  | copy deck code            |
| v                  | paste deck code           |
|--------------------+---------------------------|

* Progress
  :PROPERTIES:
  :CUSTOM_ID: ProgressSection
  :END:
** MVP [5/5]:
 - [X] Pushing [1/1]:
   - [X] Priority
 - [X] Winning [2/2]:
   - [X] Gem win
   - [X] Detect no valid move
 - [X] Piece editor
 - [X] Players [3/3]:
   - [X] Turns
   - [X] Deck
   - [X] Hand:
 - [X] Board [2/2]:
   - [X] Configuration
   - [X] Obstacles [3/3]:
     - [X] Gems
     - [X] Cannot place here (must be pushed)
       - Graveyard
     - [X] Illegal card pos (out of bounds)
** Deploy [1/1]:
 - [X] Github pages:
   - [X] Deploy
   - [X] Automate deploy build:
     - must take into account that this will be deployed under '/j'
** Full Game [0/4]:
 - [-] Display [2/5]:
   - [ ] Multi-screen layout
   - [X] Major graphics refactor, single canvas for whole screen
   - [X] Dynamic resizing
   - [ ] Display push fail reason
   - [ ] Show special arrows (slam,wind,grave,etc)
 - [-] Pushing [1/3]:
   - [X] Push fail reasons:
     - If a push fails, return an explanation of why it is illegal
   - [-] Special [4/7]:
     - [X] Slam [2/2]:
       - Slam down after pushing pushing all adjacent cards
       - [[https://shovelknight.fandom.com/wiki/Slam][wiki]]
       - [X] Feature
       - [X] Unit test
     - [X] Wind/cascade [2/2]:
       - Swap colors of all cards pushed
       - [[https://shovelknight.fandom.com/wiki/Cascade][wiki]]
       - [X] Feature
       - [X] Unit test
     - [X] Bomb [2/2]:
       - Destroy rocks and cards pushed into (respecting priority)
       - [[https://shovelknight.fandom.com/wiki/Bomb_Arrow][wiki]]
       - [X] Feature
       - [X] Unit test
     - [-] Switch [1/2]:
       - Swap u/d or l/r (or both) when pushed
       - [[https://shovelknight.fandom.com/wiki/Switch][wiki]]
       - [X] Feature
       - [ ] Unit test
     - [-] Auto move/conveyor [1/2]:
       - Auto move in a direction at end of turn
       - [[https://shovelknight.fandom.com/wiki/Conveyor_Arrow][wiki]]
       - [X] Feature
       - [ ] Unit test
     - [-] Grave [1/2]:
       - Can be played in graveyard spaces
       - ALSO allows cards to be placed on graveyard spaces if pushing grave card
       - [[https://shovelknight.fandom.com/wiki/Grave][wiki]]
       - [X] Feature
       - [ ] Unit test
     - [X] Priorities:
       - [X] Standard
       - [X] Double:
         - [[https://shovelknight.fandom.com/wiki/Double_Arrow][wiki]]
       - [X] Count (remove priority 3 arrows after 3 turns):
         - [[https://shovelknight.fandom.com/wiki/Count_Arrow][wiki]]
   - [ ] Tests
 - [ ] Players [0/2]:
   - [ ] Deck/hand/turn/score display
   - [ ] Deck builder [0/3]:
     - [ ] Build
     - [ ] Save deck
     - [ ] Import
 - [-] Board [0/1]:
   - [-] Obstacles [1/2]:
     - [X] Pitfalls
     - [ ] Rocks
** Polish [0/5]:
 - [ ] Players [0/2]:
   - [ ] Powers/characters/abilities
   - [ ] More than 2 players
 - [ ] Story/campaign mode
 - [ ] Animations
 - [ ] Move preview
 - [ ] Art
** Stretch [0/2]:
 - [ ] Online multiplayer
 - [ ] NFT

* Notes
** Sample deck
eyJjcyI6W3siY29sb3IiOiJibHVlIiwibmFtZSI6IlRyb3VwcGxlIEFjb2x5dGUiLCJzdGF0cyI6
eyJkaXJzIjp7ImwiOnsidiI6MSwiYXV0byI6dHJ1ZX0sInUiOnsidiI6MiwiYXV0byI6dHJ1ZX19
fSwidHVybnNJblBsYXkiOi0xfSx7ImNvbG9yIjoiYmx1ZSIsIm5hbWUiOiJUcm91cHBsZSBBY29s
eXRlIiwic3RhdHMiOnsiZGlycyI6eyJsIjp7InYiOjEsImF1dG8iOnRydWV9LCJ1Ijp7InYiOjIs
ImF1dG8iOnRydWV9fX0sInR1cm5zSW5QbGF5IjotMX0seyJjb2xvciI6ImJsdWUiLCJuYW1lIjoi
VHJvdXBwbGUgQWNvbHl0ZSIsInN0YXRzIjp7ImRpcnMiOnsibCI6eyJ2IjoxLCJhdXRvIjp0cnVl
fSwidSI6eyJ2IjozLCJhdXRvIjp0cnVlfX19LCJ0dXJuc0luUGxheSI6LTF9LHsiY29sb3IiOiJi
bHVlIiwibmFtZSI6IlRyb3VwcGxlIEFjb2x5dGUiLCJzdGF0cyI6eyJkaXJzIjp7ImwiOnsidiI6
MSwiYXV0byI6dHJ1ZX0sInUiOnsidiI6MywiYXV0byI6dHJ1ZX19fSwidHVybnNJblBsYXkiOi0x
fV19Cg==
